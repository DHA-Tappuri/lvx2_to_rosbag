
# lvx2_to_rosbag

## Overview
A script to convert Livox LiDAR (such as Mid-360) log files in the lvx2 format to ROSbag.

## Features
- For ROS1 Noetic

## System Requirements
- OS: Ubuntu 20.04
- Language: Python 3.7
- Additional Dependencies: ROS Noetic

## Installation
1. Install the required dependencies  
   No additional dependencies are required.

2. Clone the repository
   ```sh
   git clone https://github.com/DHA-Tappuri/lvx2_to_rosbag.git
   cd lvx2_to_rosbag
   ```

## Usage (Sample Data)
- Download sample data from Livox support  
  [Indoor Sample Data](https://terra-1-g.djicdn.com/65c028cd298f4669a7f0e40e50ba1131/Mid360/Indoor_sampledata.lvx2)
- Place the sample data in the same folder as the Python script (`lvx2_to_rosbag.py`)
- Run the script
   ```sh
   python3 lvx2_to_rosbag.py --in_file ./Indoor_sampledata.lvx2 --out_file ./Indoor_sampledata.bag --pc2_topic livox_points --pc2_frame_id livox_frame
   ```

## Parameters
- `in_file` The lvx2 file to convert
- `out_file` The output bag file
- `pc2_topic` The PointCloud2 topic name for output (default: `livox_points`)
- `pc2_frame_id` The frame ID for the PointCloud2 data (default: `livox_frame`)

## License
This project is licensed under the BSD 3-Clause License - see the [LICENSE](./LICENSE) file for details.

## Notes
- The timestamps are generated by averaging the timestamps within the same frame data. It is uncertain if this approach is fully accurate.
- The generated bag file is for ROS1 (Noetic). It may work with ROS2, but contributions to modify it for ROS2 are welcome.  
  (Since the parts for extracting point cloud data from the lvx2 file and writing it to the ROSbag are independent, the modification should be relatively easy.)
- Be cautious as the code may be unclean.

## Contact
- dha.tappuri@gmail.co.jp
